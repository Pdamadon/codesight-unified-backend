!function(){"use strict";if(window.__CODESIGHT_INJECTED__)return;window.__CODESIGHT_INJECTED__=!0;const e=function(e,t){window.postMessage({source:"codesight-injected",type:e,data:t},"*")};(window.React||window.__REACT_DEVTOOLS_GLOBAL_HOOK__)&&e("framework-detected",{framework:"React"}),(window.Vue||window.__VUE__)&&e("framework-detected",{framework:"Vue"}),(window.angular||window.ng)&&e("framework-detected",{framework:"Angular"}),["addToCart","removeFromCart","updateCart","checkout","purchase"].forEach(t=>{if(window[t]&&"function"==typeof window[t]){const o=window[t];window[t]=function(...n){return e("ecommerce-event",{method:t,args:n}),o.apply(this,n)}}}),function(){const t=window.XMLHttpRequest;if(window.XMLHttpRequest=function(){const o=new t,n=o.open,a=o.send;return o.open=function(e,t,...a){return o._codesight={method:e,url:t},n.apply(o,[e,t,...a])},o.send=function(t){return o._codesight&&e("ajax-request",{method:o._codesight.method,url:o._codesight.url,data:t}),a.apply(o,[t])},o},window.fetch){const t=window.fetch;window.fetch=function(o,n={}){return e("fetch-request",{url:o,method:n.method||"GET",headers:n.headers}),t.apply(window,[o,n])}}}(),window.performance&&window.performance.timing&&window.addEventListener("load",()=>{setTimeout(()=>{const t=window.performance.timing,o={domContentLoaded:t.domContentLoadedEventEnd-t.navigationStart,loadComplete:t.loadEventEnd-t.navigationStart,firstPaint:t.responseEnd-t.navigationStart,domInteractive:t.domInteractive-t.navigationStart};e("performance-metrics",o)},1e3)}),window.addEventListener("message",t=>{if(t.source===window&&t.data&&"codesight-content"===t.data.source)switch(t.data.type){case"ping":e("pong",{timestamp:Date.now()});break;case"get-page-data":e("page-data",{title:document.title,url:window.location.href,referrer:document.referrer,cookies:document.cookie.length,localStorage:Object.keys(window.localStorage||{}).length,sessionStorage:Object.keys(window.sessionStorage||{}).length})}}),e("injection-complete",{timestamp:Date.now(),url:window.location.href})}();
//# sourceMappingURL=injected-script.js.map